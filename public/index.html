<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdn.botframework.com/botframework-webchat/latest/webchat-es5.js"></script>
    <style type="text/css">
      body {
        margin: 0;
      }

      html,
      body {
        height: 100%;
      }

      main {
        height: 100%;
      }
    </style>
  </head>
  <body>
    <main></main>
    <script>
      (async function () {
        // const token = prompt('Please enter the token');

        // Direct Line

        const { token } = await (
          await fetch('https://webchat-mockbot.azurewebsites.net/directline/token', { method: 'POST' })
        ).json();

        renderWebChat(
          {
            directLine: WebChat.createDirectLine({ domain: 'http://localhost:3000/v3/directline', token })
          },
          document.getElementsByTagName('main')[0]
        );

        // Direct Line ASE

        // const { token } = await (
        //   await fetch('https://webchat-mockbot3.azurewebsites.net/api/token/directlinease', { method: 'POST' })
        // ).json();

        // renderWebChat(
        //   {
        //     directLine: await WebChat.createDirectLineAppServiceExtension({ domain: 'http://localhost:3000/.bot/v3/directline', token })
        //   },
        //   document.getElementsByTagName('main')[0]
        // );
      })();
    </script>
  </body>
</html>
